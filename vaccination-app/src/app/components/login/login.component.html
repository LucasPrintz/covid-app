<div>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <mat-form-field class="input-text" appearance="fill">
        <mat-label for="email">Email</mat-label>
        <input matInput type="email" [formControl]="mail" placeholder="Email" required/>
        <mat-error *ngIf="mail.hasError('email') && !mail.hasError('required')">Adresse email invalide</mat-error>
        <mat-error *ngIf="mail.hasError('required')">Adresse email obligatoire</mat-error>
    </mat-form-field>
    <mat-form-field class="input-text" appearance="fill">
        <mat-label for="password">Password</mat-label>
        <input matInput placeholder="Mot de passe" [type]="hide ? 'password' : 'text'" [formControl]="password" required/>
        <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
        <mat-error *ngIf="password.hasError('minlength') && !password.hasError('required')">Le mot de passe doit contenir au moins 5 caractères</mat-error>
        <mat-error *ngIf="password.hasError('required')">Ce champ est obligatoire</mat-error>
    </mat-form-field>
    <button mat-button matSuffix color="primary">
    Connexion
    </button>
    <mat-hint>
        <div *ngIf="isSubmitted && loginFailed" color="warn" role="alert">
        Connexion échouée: {{ errorMessage }}
        </div>
    </mat-hint>
    </form>
</div>